<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DONOR</title>
    <link rel="stylesheet" href="../assets/css/blood_availability.css">
    <link rel="stylesheet" href="../assets/css/home.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="../assets/js/main.js"></script>
    <link rel="stylesheet" href="../assets/css/common.css">
  </head>
  <body>
     <!--navbar-->
     <header>
     <nav>
        <div class="nav1">
<img src="../assets/img/Donor_logo.png" alt="logo">
        <ul class="nav-links">
          <li class="active">
<a href="../index.html">Home</a>
</li>
          <li>
<a href="blood_availability.html">Blood Availability</a>
</li>
          <li>
<a href="donor_availability.html">Donor Availability</a>
</li>
          <li id="register">
<a href="donor_registration.html">Register</a>
</li>
          <li>
<a id="profile_page">Profile</a>
</li>
      </div>
        <div class="login_signup">
          <button>Signup</button>
          <button>Login</button>
        </div>
      </nav>
    </header>
    <div class="section1">
      <div class="section1_left">
        <h2>Create the perfect Donation Experience</h2> 
          <p>Our donations forms and fundraising pages provide a powerful tool to collect online donations. Use our form builder to create multi-step forms, offer payment options such as Apple Pay or Paypal, and customize everything from eCards to confirmation screens. Plus, embedding on tools like Wordpress, Squarespace, and Webflow couldnâ€™t be easier.</p>
      </div>
      <div class="section1_right">
        <img src="../assets/img/blood_availability.jpg" alt="img">
      </div>
   </div>  
    </div>

    <div class= "blood-form">
      <div class="bloodh1">
      <h1>BLOOD AVAILABLE HOSPITALS</h1>
  </div>
      <form>
          <h3>Sort by</h3>
          <select id ="state">
              <option value="state">TAMIL NADU</option>
          </select>
          
          <select id ="district">
              <option >Select District</option>
              <option >Ariyalur</option>
              <option >Chennai</option>
              <option >Coimbatore</option>
              <option >Chengalpattu</option>
              <option >Cuddalore</option>
              <option >Dharmapuri</option>
              <option >Dindigul</option>
              <option >Erode</option>
              <option >Kallakurichi</option>
              <option >Kancheepuram</option>
              <option >Karur</option>
              <option >Krishnagiri</option>
              <option >Madurai</option>
              <option >Mayiladuthurai</option>
              <option >Nagapattinam</option>
              <option >Nagercoil</option>
              <option >Namakkal</option>
              <option >Perambalur</option>
              <option >Pudukkottai</option>
              <option >Ramanathapuram</option>
              <option >Ranipet</option>
              <option >Salem</option>
              <option >Sivagangai</option>
              <option >Tenkasi</option>
              <option >Thanjavur</option>
              <option >Theni</option>
              <option >Thiruvallur</option>
              <option >Thiruvarur</option>
              <option >Thoothukudi</option>
              <option >Trichirappalli</option>
              <option >Thirunelveli</option>
              <option >Tirupathur</option>
              <option >Tiruppur</option>
              <option >Tiruvannamalai</option>
              <option >The Nilgiris</option>
              <option >Vellore</option>
              <option >Viluppuram</option>
              <option >Virudhunagar</option>
          </select>
       
          <select id="select_blood_group">
              <option >Select Blood Group</option>
              <option >AB-ve</option>
              <option >AB+ve</option>
              <option>A-ve</option>
              <option>A+ve</option>
              <option >A+ve</option>
              <option >B-ve</option>
              <option >B+ve</option>
              <option >O-ve</option>
              <option >O+ve</option>
              <option >All Blood Groups</option>
          </select>
          
          <!-- <select id ="state">
              <option value="district">Components of Blood</option>
              <option value="district">single donor platelet</option>
              <option value="district">single donor plasma</option>
              <option value="district">sagm packed red blood cells</option>
              <option value="district">platelet rich plasma</option>
              <option value="district">platelet poor plasma</option>
              <option value="district">platelet concentrate</option>
              <option value="district">plasma</option>
              <option value="district">packed red blood cells</option>
              <option value="district">Leukoreduced Rbc</option>
              <option value="district">fresh frozen plasma</option>
          </select> -->
      </form>
      <a id="submit">Submit</a>
  </div>
</div>
</div>

<div class="main_cont">
  <!-- <a href="./hospital_details.html?name=KING" class="cont_content">
    <img src="../assets/img/hospital_img.jpg" alt="hospital img" />
    <p><span>KIng hospital</span></p>
    <p>madurai</p>
  </a> -->
</div>
  </body>
<script src="../assets/js/common.js"></script>

  <script>
    const hospital_detail=JSON.parse(localStorage.getItem("hospital_details"))
    const main_cont =document.querySelector(".main_cont")

const district=[]
    for (let i = 0; i < hospital_detail.length; i++) {
      main_cont.innerHTML +=` 
       <a href="./hospital_details.html?name=${hospital_detail[i].hospital_name}" class="cont_content">
      <img src="../assets/img/hospital_img.jpg" alt="hospital img" />
      <p><span>${hospital_detail[i].hospital_name}</span></p>
      <p>${hospital_detail[i].hospital_address} ${hospital_detail[i].district}</p>
    </a>
      `
      district.push(hospital_detail[i].district)

      console.log(hospital_detail[i].district);

      // `dscnjjczjz ${jnwcnc}`
    }
    console.log(district);

    // const place=document.getElementById("state")
    // const option=document.getElementsByTagName("option")
    // let selectedValue;
    // let selvalue;
    // place.addEventListener("change", (event) => {
    //     check = event.target.innerText
    //     selectedValue = event.target.value;
    //     console.log(selectedValue);
    //     selvalue= selectedValue
    // //    return selvalue
    // const dic = document.querySelectorAll(".cont_content");
    // dic.forEach(ex => {
    //     const child = ex.children[2].textContent.toLowerCase();
    //     console.log(`${child }iam`);
        
    //     if (child===selvalue) {
    //       ex.style.display = "block"
    //       // console.log("isac");
    //     }
    //     else {
    //       ex.style.display = "none"
    //       // console.log("deva");
    //     }
    //   })
    // });
    const status= localStorage.getItem("status")
  const login_signup =document.querySelector(".login_signup")
  const register = document.querySelector("#register")
  if(status){
    register.classList.add("not_view")
    login_signup.classList.add("not_view")
  }

// filtering the districts-----------------

// console.log(select_blood_group,"uyt");

const submit = document.getElementById("submit")
submit.addEventListener("click",e=>{
  const district_value = document.getElementById("district").value
const select_blood_group = document.getElementById("select_blood_group").value
main_cont.innerHTML=""
  for (let i = 0; i < hospital_detail.length; i++) {
    if(hospital_detail[i].district==district_value && (select_blood_group==hospital_detail[i].total_blood_avail[0].blood_group_avail || select_blood_group==hospital_detail[i].total_blood_avail[1].blood_group_avail||select_blood_group==hospital_detail[i].total_blood_avail[2].blood_group_avail) ){
      main_cont.innerHTML+=` 
       <a href="./hospital_details.html?name=${hospital_detail[i].hospital_name}" class="cont_content">
      <img src="../assets/img/hospital_img.jpg" alt="hospital img"/>
      <p><span>${hospital_detail[i].hospital_name}</span></p>
      <p>${hospital_detail[i].hospital_address} ${hospital_detail[i].district}</p>
    </a>
      `
    }
    }
    
})
  </script>
  </html>