<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/hospital_registration.css">
    <title>Document</title>
  </head>

  <body>
    <div class="cont1">

          <h2>Hospital Registration</h2>
          <form id="registration_form"> 
            <div class="input_fields">      

          <span class="input-field">
            <label for="hospital_name">Hospital Name</label>
            <input type="text" id="hospital_name" required>
          </span>

          <span class="input-field">
            <label>District</label>
            <select id ="district">
                <option >Select</option>
                <option >Ariyalur</option>
                <option >Chennai</option>
                <option >Coimbatore</option>
                <option >Chengalpattu</option>
                <option >Cuddalore</option>
                <option >Dharmapuri</option>
                <option >Dindigul</option>
                <option >Erode</option>
                <option >Kallakurichi</option>
                <option >Kancheepuram</option>
                <option >Karur</option>
                <option >Krishnagiri</option>
                <option >Madurai</option>
                <option >Mayiladuthurai</option>
                <option >Nagapattinam</option>
                <option >Nagercoil</option>
                <option >Namakkal</option>
                <option >Perambalur</option>
                <option >Pudukkottai</option>
                <option >Ramanathapuram</option>
                <option >Ranipet</option>
                <option >Salem</option>
                <option >Sivagangai</option>
                <option >Tenkasi</option>
                <option >Thanjavur</option>
                <option >Theni</option>
                <option >Thiruvallur</option>
                <option >Thiruvarur</option>
                <option >Thoothukudi</option>
                <option >Trichirappalli</option>
                <option >Thirunelveli</option>
                <option >Tirupathur</option>
                <option >Tiruppur</option>
                <option >Tiruvannamalai</option>
                <option >The Nilgiris</option>
                <option >Vellore</option>
                <option >Viluppuram</option>
                <option >Virudhunagar</option>
            </select>
          </span>

          <!-- <span class="input-field">
            <label for="district">District</label>
            <input type="text" pattern="[A-Za-z]{2,32}" id="district" required />
          </span> -->

          <span class="input-field">
            <label for="hospital_address">Address</label>
            <input type="text" id="hospital_address" required>
          </span>

          <span class="input-field">
            <label for="pincode">Area Pincode</label>
            <input type="number" pattern="[0-9]{10}" id="pincode" required>
          </span>

          <span class="input-field">
            <label for="tel_num">Contact No</label>
            <input type="text" pattern="[0-9]{10}" id="tel_num" required>
          </span>

          <span class="input-field">
            <label for="gmail">Gmail</label>
            <input type="email" id="gmail" required>
          </span>
        </div>
        <div class="input_fields">
          <span class="input-field">
            <label for="hosp_license">Hospital License</label>
            <input type="text" id="hosp_license" required>
          </span>
          
          <span class="input-field">
            <label for="hospital_renew">Hospital Renewed Year</label>
            <input type="date" id="hospital_renew" required>
          </span>
                 
          <span class="input-field">
          <label for="Hospital Type">Hospital Type</label>
          <input type="text" id="hospitaltype" required>
        </span>

        <span class="input-field">
          <label for="password">Password</label>
          <input type="text" id="password" required>
        </span>

        <span class="input-field">
          <label for="confirm_pass">Confirm Password</label>
          <input type="text" id="con_password" required>
        </span>
        
        </div>
        <!-- <div class="input-fields">
          <span class="input-field">
          <label for="blood_group_avail"> Blood Group Availability</label> -->
         
        <div class="input_fields">
          <span class="input-field">
            <label for="blood_group_avail" id="label-content">Blood Group Availability</label>  
            <p>1.</p> 
          <!-- <input type="text" id="blood_group_avail" class="blood_group_avail" required/> -->
          <select id ="blood_group_avail" class="blood_group_avail">
            <option>Select Blood Group</option>
            <option>AB-ve</option>
            <option>AB+ve</option>
            <option>A-ve</option>
            <option>A+ve</option>
            <option>B-ve</option>
            <option>B+ve</option>
            <option>O-ve</option>
            <option>O+ve</option>
            <option>All Blood Groups</option>
        </select>
        <p>Unit</p>
          <input type="number" pattern="[0-9]{10}" id="blood_stock_avail" class="blood_stock_avail" required>
        </span>
        <span class="input-field">
          <p>2.</p>
          <!-- <input type="text" id="blood_group_avail" class="blood_group_avail" required/> -->
          <select id ="blood_group_avail" class="blood_group_avail">
            <option>Select Blood Group</option>
            <option>AB-ve</option>
            <option>AB+ve</option>
            <option>A-ve</option>
            <option>A+ve</option>
            <option>B-ve</option>
            <option>B+ve</option>
            <option>O-ve</option>
            <option>O+ve</option>
            <option>All Blood Groups</option>
        </select>
        <p>Unit</p>
          <input type="number" pattern="[0-9]{10}" id="blood_stock_avail" class="blood_stock_avail" required>
        </span>

        <span class="input-field">
          <p>3.</p>
          <!-- <input type="text" id="blood_group_avail" class="blood_group_avail" required/> -->
          <select id ="blood_group_avail" class="blood_group_avail">
            <option>Select Blood Group</option>
            <option>AB-ve</option>
            <option>AB+ve</option>
            <option>A-ve</option>
            <option>A+ve</option>
            <option>B-ve</option>
            <option>B+ve</option>
            <option>O-ve</option>
            <option>O+ve</option>
            <option>All Blood Groups</option>
        </select>
        <p>Unit</p>
          <input type="number" pattern="[0-9]{10}" id="blood_stock_avail" class="blood_stock_avail" required>
        </span>
          <!-- <button>Add a Blood group</button> -->
      </div>
          <!-- </div>-->
          <div class="add_img">
            <img src="../assets/img/profile_img.png" alt="img" id="changed_photo">
            <input type="file" id="add_image_button">
          </div>
          <button type="submit" class="raised-button ">Submit</button>
        </form>
    </div>
    <script>
        // hospital_name
        // district  hospital_address  pincode tel_num gmail blood_group_avail blood_stock_avail hosp_license  hospital_renew  add_img
        const registration_form = document.getElementById("registration_form")

        registration_form.addEventListener("submit",e=>{
            e.preventDefault()

        const hospital_name = document.getElementById("hospital_name").value.trim()
        const district = document.getElementById("district").value.trim()
        const hospital_address = document.getElementById("hospital_address").value.trim()
        const pincode = document.getElementById("pincode").value.trim()
        const tel_num = document.getElementById("tel_num").value.trim()
        const blood_group_avail = document.querySelectorAll(".blood_group_avail")
        const blood_stock_avail = document.querySelectorAll(".blood_stock_avail")
        const hosp_license = document.getElementById("hosp_license").value.trim()
        const hospital_renew = document.getElementById("hospital_renew").value.trim()
        // let add_image_button =document.getElementById("add_image_button").value.trim()
        // let changed_photo= document.getElementById("changed_photo").value.trim()
        const gmail= document.getElementById("gmail").value.trim()
        const password =document.getElementById("password").value.trim()
        const con_password =document.getElementById("con_password").value.trim()
        const hospitaltype =document.getElementById("hospitaltype").value.trim()

if(password==con_password){
  const total_blood_avail = []
        for(let i = 0;i<blood_group_avail.length;i++){
            const blood_avail ={
    "blood_group_avail":blood_group_avail[i].value,
    "blood_stock_avail":blood_stock_avail[i].value
}
        total_blood_avail.push(blood_avail)
        }

        const hospital_detail =  JSON.parse(localStorage.getItem("hospital_details"))?? [] //localStorage.getItem("hospital_detail")? JSON.parse(localStorage.getItem("hospital_detail")):

        const hospital_data = {
    hospital_name,
    district,
    hospital_address,
    pincode,
    tel_num,
    total_blood_avail,
    hosp_license,
    hospital_renew,
    hospitaltype,
    gmail,
    password
}
        // localStorage.setItem("active_hospital",gmail)
        hospital_detail.push(hospital_data)
        localStorage.setItem("hospital_details",JSON.stringify(hospital_detail))
        // localStorage.setItem("status","hospital")

          window.location.href="./new_login.html"

        }
      else{
        alert("password and confirm password doesn't match")
      }})
//try
            </script>
  </body>
</html>
