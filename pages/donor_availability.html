<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/home.css">
    <link rel="stylesheet" href="../assets/css/donor_avail.css">
    <link rel="stylesheet" href="../assets/css/blood_availability.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/common.css">
</head>
<body>
   <!--navbar-->
   <header>
    <nav>
       <div class="nav1">
<img src="../assets/img/Donor_logo.png" alt="logo">
       <ul class="nav-links">
        <li class="active">
<a href="../index.html">Home</a>
</li>
         <li>
<a href="blood_availability.html">Blood Availability</a>
</li>
         <li>
<a href="donor_availability.html">Donor Availability</a>
</li>
         <li id="register">
<a href="donor_registration.html">Register</a>
</li>
         <li>
<span id="profile_page">Profile</span>
</li>
     </div>
       <div class="login_signup">
         <!-- <a href=/registrationTwo.html"><button>Signup</button></a> -->
         <a href="/new_login.html">
<button>Login</button>
</a>
       </div>
     </nav>
   </header>
   <main>
    <div class="container1">
        <div class="container1_left">
          <img src="../assets/img/donor_main_img.jpg" alt="img">
        </div>
        <div class="container1_right">
          <h1>
              Think of giving not as a duty, but as a <span> Privilege</span>
          </h1>
          <p> Every two seconds someone needs blood. More than 38,000 blood
              donations are needed every day. A total of 30 million blood
              components are transfused each year. The average red blood cell
              transfusion is approximately 3 pints.</p>
              <div class="donate_get_blood">
              <a href="donor_registration.html">Donor Register</a>
            </div>
          </div>
      </div>
   </main>
   <div class= "blood-form">
    <div class="bloodh1">
    <h1>DONOR AVAILABILITY</h1>
</div>
    <form>
        
      <h3>Sort by</h3>
      <select id ="state">
          <option value="state">TAMIL NADU</option>
      </select>
        <select id ="district">
          <option >Select District</option>
          <option >Ariyalur</option>
          <option >Chennai</option>
          <option >Coimbatore</option>
          <option >Chengalpattu</option>
          <option >Cuddalore</option>
          <option >Dharmapuri</option>
          <option >Dindigul</option>
          <option >Erode</option>
          <option >Kallakurichi</option>
          <option >Kancheepuram</option>
          <option >Karur</option>
          <option >Krishnagiri</option>
          <option >Madurai</option>
          <option >Mayiladuthurai</option>
          <option >Nagapattinam</option>
          <option >Nagercoil</option>
          <option >Namakkal</option>
          <option >Perambalur</option>
          <option >Pudukkottai</option>
          <option >Ramanathapuram</option>
          <option >Ranipet</option>
          <option >Salem</option>
          <option >Sivagangai</option>
          <option >Tenkasi</option>
          <option >Thanjavur</option>
          <option >Theni</option>
          <option >Thiruvallur</option>
          <option >Thiruvarur</option>
          <option >Thoothukudi</option>
          <option >Trichirappalli</option>
          <option >Thirunelveli</option>
          <option >Tirupathur</option>
          <option >Tiruppur</option>
          <option >Tiruvannamalai</option>
          <option >The Nilgiris</option>
          <option >Vellore</option>
          <option >Viluppuram</option>
          <option >Virudhunagar</option>
      </select>
     
      <select id="select_blood_group">
            <option>Select Blood Group</option>
            <option>AB-ve</option>
            <option>AB+ve</option>
            <option>A-ve</option>
            <option>A+ve</option>
            <option>B-ve</option>
            <option>B+ve</option>
            <option>O-Ve</option>
            <option>O+Ve</option>
            <option>All Blood Groups</option>
        </select>
    </form>
    <a id="submit">Submit</a>
</div>
</body>
<div>

  <div class="active_status">
  <div class="active">
  <div class="online_round green" >
  </div>
  <p>Active</p>
</div>
<div class="active">
  <div class="online_round red" >
  </div>
  <p>InActive</p>
</div>
</div>
</div>
<div class="main_cont">
  <!-- <a href="./hospital_details.html?name=KING" class="cont_content">
    <img src="../assets/img/profile_image.jpg" alt="hospital img" />
    <p><span>KIng hospital</span></p>
    <p>madurai</p>
    <div class="online_round">
    </div>
  </a> -->
  
</div>

<script>
  const donor_details=JSON.parse(localStorage.getItem("donor_details"))
  const main_cont =document.querySelector(".main_cont")
  for (let i = 0; i < donor_details.length; i++) {
  let classs ="green"
    
    if(donor_details[i].status!=true){
      classs="red"
    }
    main_cont.innerHTML+=`
     <a href="./donor_details.html?name=${donor_details[i].emailid}" class="cont_content">
    <img src="../assets/img/profile_image.jpg" alt="donor img" />
    <p><span>${donor_details[i].fullname}</span></p>
    <p>${donor_details[i].address} ${donor_details[i].district}</p>
  
    <div class="online_round ${classs}" >
    </div>
      </a>
    `
  }  
const _status= localStorage.getItem("status")
const login_signup =document.querySelector(".login_signup")
const register = document.querySelector("#register")
if(_status){
  register.classList.add("not_view")
  login_signup.classList.add("not_view")
}
//filtering>>>>>>>
const submit= document.getElementById("submit")
submit.addEventListener("click",e=>{
  const district_value = document.getElementById("district").value
const select_blood_group = document.getElementById("select_blood_group").value
main_cont.innerHTML=""
  for (let i = 0; i < donor_details.length; i++) {
  let classs ="green"

    if(donor_details[i].status!=true){
      classs="red"
    }
    if(donor_details[i].district==district_value&&donor_details[i].bloodgroup==select_blood_group  ){
      main_cont.innerHTML+=` 
       <a href="./donor_details.html?name=${donor_details[i].emailid}" class="cont_content">
      <img src="../assets/img/profile_image.jpg" alt="hospital img" />
      <p><span>${donor_details[i].fullname}</span></p>
      <p>${donor_details[i].address} ${donor_details[i].district}</p>
    
      <div class="online_round ${classs}">
    </div>
      </a>
      `
    }
    }
    
})
</script>
<script src="../assets/js/common.js"></script>
</html>
